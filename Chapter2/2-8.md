### 为什么说 DOM XSS 对传统 WAF 基本免疫

在传统的 **反射型 XSS** 或 **存储型 XSS** 中，Payload 必须经过 HTTP 请求发送到服务器（WAF 就在这里把守），然后再由服务器返回给浏览器

而在 **DOM XSS** 中，攻击载荷往往隐藏在 **URL 锚点（#，Fragment）** 之后

- **URL 结构**：`https://example.com/page.html?name=val#<script>alert(1)</script>`
- **WAF 的尴尬**：根据 HTTP 协议标准，**浏览器不会将 `#` 之后的内容发送给服务器**